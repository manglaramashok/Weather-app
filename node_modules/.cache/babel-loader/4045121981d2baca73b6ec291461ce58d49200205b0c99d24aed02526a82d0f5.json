{"ast":null,"code":"var _jsxFileName = \"/Users/bunnie_x/Desktop/weather-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Weather from \"./components/Weather\";\nimport Forecast from \"./components/Forecast\";\nimport { fetchCurrentWeather, fetchForecast } from \"./services/weatherService\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // üîπ EXISTING STATES (UNCHANGED)\n  const [city, setCity] = useState(\"Jaipur\");\n  const [weather, setWeather] = useState(null);\n  const [forecast, setForecast] = useState(null);\n  const [error, setError] = useState(\"\");\n\n  // üîπ NEW: SEARCH BUTTON FUNCTION (ADDED)\n  const searchWeather = async () => {\n    try {\n      setError(\"\");\n      const weatherData = await fetchCurrentWeather(city);\n      const forecastData = await fetchForecast(city);\n      setWeather(weatherData);\n      setForecast(forecastData);\n    } catch (err) {\n      setError(err.message);\n      setWeather(null);\n      setForecast(null);\n    }\n  };\n\n  // üîπ NEW: LOCATION-BASED WEATHER (ADDED)\n  const getLocationWeather = () => {\n    if (!navigator.geolocation) {\n      setError(\"Geolocation not supported\");\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(async position => {\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n      try {\n        setError(\"\");\n        const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=metric&appid=${process.env.REACT_APP_WEATHER_API_KEY}`);\n        const data = await response.json();\n        setWeather(data);\n        setForecast(null); // forecast skipped for GPS\n      } catch {\n        setError(\"Unable to fetch location weather\");\n      }\n    });\n  };\n\n  // üîπ useEffect STILL EXISTS (NOT REMOVED)\n  useEffect(() => {\n    searchWeather();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container text-center mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mb-4\",\n      children: \"\\uD83C\\uDF26 Weather Forecast App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group mb-3 w-50 mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Enter city name\",\n        value: city,\n        onChange: e => setCity(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: searchWeather,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-success mb-3\",\n      onClick: getLocationWeather,\n      children: \"\\uD83D\\uDCCD Use My Location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }, this), weather && /*#__PURE__*/_jsxDEV(Weather, {\n      weather: weather\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }, this), forecast && /*#__PURE__*/_jsxDEV(Forecast, {\n      forecast: forecast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"bL7aU6zmdtFKl6rjOT93h6yFFxE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Weather","Forecast","fetchCurrentWeather","fetchForecast","jsxDEV","_jsxDEV","App","_s","city","setCity","weather","setWeather","forecast","setForecast","error","setError","searchWeather","weatherData","forecastData","err","message","getLocationWeather","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","response","fetch","process","env","REACT_APP_WEATHER_API_KEY","data","json","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","_c","$RefreshReg$"],"sources":["/Users/bunnie_x/Desktop/weather-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Weather from \"./components/Weather\";\nimport Forecast from \"./components/Forecast\";\nimport { fetchCurrentWeather, fetchForecast } from \"./services/weatherService\";\nimport \"./App.css\";\n\nfunction App() {\n  // üîπ EXISTING STATES (UNCHANGED)\n  const [city, setCity] = useState(\"Jaipur\");\n  const [weather, setWeather] = useState(null);\n  const [forecast, setForecast] = useState(null);\n  const [error, setError] = useState(\"\");\n\n  // üîπ NEW: SEARCH BUTTON FUNCTION (ADDED)\n  const searchWeather = async () => {\n    try {\n      setError(\"\");\n      const weatherData = await fetchCurrentWeather(city);\n      const forecastData = await fetchForecast(city);\n      setWeather(weatherData);\n      setForecast(forecastData);\n    } catch (err) {\n      setError(err.message);\n      setWeather(null);\n      setForecast(null);\n    }\n  };\n\n  // üîπ NEW: LOCATION-BASED WEATHER (ADDED)\n  const getLocationWeather = () => {\n    if (!navigator.geolocation) {\n      setError(\"Geolocation not supported\");\n      return;\n    }\n\n    navigator.geolocation.getCurrentPosition(async (position) => {\n      const { latitude, longitude } = position.coords;\n\n      try {\n        setError(\"\");\n        const response = await fetch(\n          `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=metric&appid=${process.env.REACT_APP_WEATHER_API_KEY}`\n        );\n\n        const data = await response.json();\n        setWeather(data);\n        setForecast(null); // forecast skipped for GPS\n      } catch {\n        setError(\"Unable to fetch location weather\");\n      }\n    });\n  };\n\n  // üîπ useEffect STILL EXISTS (NOT REMOVED)\n  useEffect(() => {\n    searchWeather();\n  }, []);\n\n  return (\n    <div className=\"container text-center mt-5\">\n      <h1 className=\"mb-4\">üå¶ Weather Forecast App</h1>\n\n      {/* üîπ SEARCH INPUT + BUTTON */}\n      <div className=\"input-group mb-3 w-50 mx-auto\">\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Enter city name\"\n          value={city}\n          onChange={(e) => setCity(e.target.value)}\n        />\n        <button className=\"btn btn-primary\" onClick={searchWeather}>\n          Search\n        </button>\n      </div>\n\n      {/* üîπ LOCATION BUTTON */}\n      <button className=\"btn btn-success mb-3\" onClick={getLocationWeather}>\n        üìç Use My Location\n      </button>\n\n      {/* üîπ ERROR HANDLING */}\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n\n      {/* üîπ WEATHER OUTPUT */}\n      {weather && <Weather weather={weather} />}\n      {forecast && <Forecast forecast={forecast} />}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}